(self.webpackChunkkcc_gem_theme=self.webpackChunkkcc_gem_theme||[]).push([[604],{416:function(e,t,n){var r={"./addAccordionOrTabHistoryStates":[977,977],"./addAccordionOrTabHistoryStates.js":[977,977],"./alerts":[239],"./alerts.js":[239],"./checkForPrefersReducedMotion":[874],"./checkForPrefersReducedMotion.js":[874],"./contentHashLink":[695,695],"./contentHashLink.js":[695,695],"./createAlertsHtml":[942],"./createAlertsHtml.js":[942],"./parseMarkdownToHTML":[820],"./parseMarkdownToHTML.js":[820]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id=416,e.exports=o},239:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(942),o=n(874);const s="emergencyAlerts",a={spreadsheetId:"1plXBiZY5pVbhNT-mszxEuqCl4zy8wMnz9gXXbbT_yLs",range:"Alerts"},c={apiKey:"AIzaSyCEBsbXfFcdbkASlg-PodD1rT_Fe3Nw62A",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/sheets/v4/rest"]},i=!(!document.querySelector("#accordion")&&!document.querySelector(".navTabs"));function l(e){if((0,o.default)(),!document.getElementById(s)&&i)return n.e(695).then(n.bind(n,695)).then((t=>{let{default:n}=t;return n(e)}));new Promise(((e,t)=>{gapi.load("client",(()=>{gapi.client.init(c).then((()=>gapi.client.sheets.spreadsheets.values.get(a))).then((t=>{(0,r.default)(t),e()}),(e=>{console.error("Error trying to fetch the alert from gapi:",e)}))}))})).then((()=>{window.setTimeout((()=>{i&&n.e(695).then(n.bind(n,695)).then((t=>{let{default:n}=t;return n(e)}))}),100)}))}},874:function(e,t){"use strict";t.default=function(){const e=window.matchMedia("(prefers-reduced-motion: reduce)");let t=!!e.matches;localStorage.setItem("userPrefersReducedMotion",t),e.addEventListener("change",(n=>{t=!!e.matches,localStorage.setItem("userPrefersReducedMotion",t)}))}},942:function(e,t,n){"use strict";var r=n(820);const o=document.getElementById("emergencyAlerts");t.default=function(e){let[t,n,s,a,c,i,l]=e.result.values[2];if("FALSE"===t)return;const u=new Date,d=new Date(c),f=new Date(i),p=function(e){return"SCHOOL EMERGENCY/CLOSURE - red"==e?"danger":"SCHOOL INFO - blue"==e?"primary":"SCHOOL INFO - cyan"==e?"info":"warning"}(l),_="FALSE"===a||"TRUE"===a&&d.getTime()<=u.getTime()&&f.getTime()>u.getTime(),m="TRUE"===n||"FALSE"===n&&"/"==window.location.pathname;let h=`\n<div class="container">\n  <div class="row">\n    <div class="col">\n      <div role="alert" class="alert alert-${p} d-lg-flex align-items-center">\n        <div class="typography__last-p--mb0">\n          ${(0,r.default)(s)}\n        </div>\n      </div>\n    </div>\n  </div>\n</div>`;return[u,d,f].map((e=>e.setHours(0,0,0,0))),_&&m?function(e,t){return e.innerHTML=t,e.classList.add("position__offset-alert--visible")}(o,h):null}},820:function(e,t){"use strict";const n={strong:/\*\*([^\*]*)\*\*/g,em:/_([^_]*)_/g};function r(e,t,n){return e.replace(t,n)}function o(e,t){const n={"\\*":"__asterisk__","\\_":"__underscore__","\\[":"__openBracket__","\\]":"__closeBracket__","\\(":"__openParenthesis__","\\)":"__closeParenthesis__"};for(let o in n)n.hasOwnProperty(o)&&(!0===t?e=r(e,o,n[o]):!1===t&&(e=r(e,n[o],o.replace(/^\\/g,""))));return e}function s(e,t){if(""===t)return e;for(var r in n)n.hasOwnProperty(r)&&(e=e.replace(n[r],"<"+r+">$1</"+r+">"));return e}function a(e,t){return""===t?e:e.replace(/^(.*)$/gm,'<p class="typography__alert">$1</p>')}t.default=function(e){const t=function(e){return e.replace(/\[(?<linkText>[^\]]*)\]\((?<linkHref>[^\)]*)\)/g,'<a href="$<linkHref>" target="_blank" rel="noopener noreferrer">$<linkText></a>')}(function(e){for(var t in n)n.hasOwnProperty(t)&&(e=e.replace(n[t],s));return e}(o(e,!0)));return o(function(e){return e.replace(/^(.*)$/gm,a)}(t),!1)}}}]);